{"version":3,"file":"static/js/491.abcd5682.chunk.js","mappings":"8MACA,EAAyB,uBAAzB,EAAuD,qBAAvD,EAA0J,4B,qECoB1J,EAnBmB,SAACA,GAEhB,OACIC,EAAAA,EAAAA,KAAA,MAAAC,UAEAD,EAAAA,EAAAA,KAACE,EAAAA,EAAS,CAAAD,UACVD,EAAAA,EAAAA,KAAA,OAAKG,UAAWC,EAAoBH,UAErCD,EAAAA,EAAAA,KAAA,KAAAC,SAAIF,EAAMM,WALAN,EAAMO,IAcvB,E,4BCmCA,EA7Ce,WAAO,IAADC,EACXC,EAAQC,aAAaC,QAAQ,SAC7BC,GAAWC,EAAAA,EAAAA,MACXC,GAAOC,EAAAA,EAAAA,KAAY,SAAAC,GAAK,OAAIA,EAAMC,QAAQC,cAAc,KAC9DC,EAAAA,EAAAA,YAAU,WACPP,GAASQ,EAAAA,EAAAA,GAAoBX,GAChC,GAAE,CAACG,IAmBH,OACIS,EAAAA,EAAAA,MAACC,EAAAA,SAAQ,CAAApB,SAAA,EACTD,EAAAA,EAAAA,KAACsB,EAAAA,EAAM,KACPF,EAAAA,EAAAA,MAAClB,EAAAA,EAAS,CAACC,UAAWC,EAAeH,SAAA,EACrCD,EAAAA,EAAAA,KAAA,MAAAC,SAAI,yBACJD,EAAAA,EAAAA,KAACuB,EAAAA,EAAM,CAACC,QAvBQ,kBAAAjB,EAAAA,IAAAkB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,IAAA,IAAAC,EAAAC,EAAA,OAAAJ,EAAAA,EAAAA,KAAAK,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAIQC,EAAAA,EAAMC,IAAI,sCAAuC,CAAEC,QAAS,CAAC,cAAkB7B,KAAU,OAAlG,GACS,OADjBqB,EAAQG,EAAAM,MACFC,OAAc,CAAAP,EAAAE,KAAA,UAClBJ,EAAIU,SAASC,cAAc,MAC7BC,KAAOb,EAAShB,KAAK8B,QACvBb,EAAEc,SAAW,gBACbd,EAAEe,QACFlC,EAASmC,EAAAA,EAAeC,mBAAmBlB,EAAShB,OAAOmB,EAAAE,KAAA,uBAErD,IAAIc,MAAMnB,EAAShB,KAAKoC,SAAQ,QAAAjB,EAAAE,KAAA,uBAAAF,EAAAC,KAAA,GAAAD,EAAAkB,GAAAlB,EAAA,SAGpC,IAAIgB,MAAKhB,EAAAkB,IAAM,KAAD,oBAAAlB,EAAAmB,OAAA,GAAAvB,EAAA,oBAE3BwB,MAAA,KAAAC,UAAA,EAMmCpD,SAAC,qBACjCD,EAAAA,EAAAA,KAACsD,EAAAA,EAAI,CAACnD,UAAWC,EAAaH,UAC9BD,EAAAA,EAAAA,KAAA,MAAAC,SACCY,GAAQA,EAAK0C,KAAI,SAACC,GAAI,OACpBxD,EAAAA,EAAAA,KAACyD,EAAU,CAAepD,IAAKmD,EAAKb,SAAnBa,EAAKE,GAAyB,aAS1D,C","sources":["webpack://react-the-complete-guide/./src/components/Report/Report.module.css?f380","components/Report/ReportItem.js","components/Report/Report.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"report\":\"Report_report__XJPV7\",\"list\":\"Report_list__f1wo3\",\"fallback\":\"Report_fallback__tZgH9\",\"item\":\"Report_item__P2D56\",\"description\":\"Report_description__5YMWp\",\"expense\":\"Report_expense__gwhQB\",\"price\":\"Report_price__7Bsgr\",\"action\":\"Report_action__QCoLv\"};","import classes from './Report.module.css';\r\nimport { Container } from 'react-bootstrap';\r\nconst ReportItem = (props) => {\r\n   \r\n    return (\r\n        <li key={props.key}>\r\n                \r\n        <Container>\r\n        <div className={classes.description}>\r\n      \r\n       <p>{props.url}</p>\r\n     \r\n        </div>\r\n        \r\n      \r\n\r\n            </Container> \r\n            </li>\r\n    )\r\n}\r\n\r\nexport default ReportItem;","import classes from './Report.module.css';\r\nimport Header from '../Layout/Header';\r\nimport { Container, Button, Card } from 'react-bootstrap';\r\nimport { Fragment, useEffect, } from 'react';\r\nimport axios from 'axios';\r\nimport ReportItem from './ReportItem';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { fetchDownloadedData } from '../../store/premium-actions';\r\nimport { premiumActions } from '../../store/premium';\r\nconst Report = () => {\r\n    const token = localStorage.getItem('token');\r\n    const dispatch = useDispatch();\r\n    const data = useSelector(state => state.premium.downloadedData)\r\n    useEffect(() => {\r\n       dispatch(fetchDownloadedData(token));\r\n    },[dispatch])\r\n    const downloadReport = async() => {\r\n      \r\n        try {\r\n\r\n            const response = await axios.get('http://localhost:4000/user/download', { headers: {\"Authorization\" : token } })\r\n            if(response.status === 200) {\r\n                var a = document.createElement('a');\r\n                a.href = response.data.fileURL;\r\n                a.download = 'myexpense.csv';\r\n                a.click();\r\n                dispatch(premiumActions.addDownloadedItems(response.data)); \r\n            } else {\r\n                throw new Error(response.data.message)\r\n            }\r\n        } catch(err) {\r\n            throw new Error(err);\r\n        }\r\n    }\r\n    return (\r\n        <Fragment>\r\n        <Header />\r\n        <Container className={classes.report} >\r\n        <h2>Day to Day Expenses</h2>\r\n        <Button onClick={downloadReport}>Download Report</Button>\r\n        <Card className={classes.list}>\r\n        <ul>\r\n        {data && data.map((item) => (\r\n           <ReportItem key={item.id} url={item.fileURL} />\r\n                ))}\r\n            \r\n        </ul>\r\n        </Card>\r\n      </Container>\r\n      \r\n        </Fragment>\r\n    )\r\n};\r\n\r\nexport default Report;"],"names":["props","_jsx","children","Container","className","classes","url","key","_ref","token","localStorage","getItem","dispatch","useDispatch","data","useSelector","state","premium","downloadedData","useEffect","fetchDownloadedData","_jsxs","Fragment","Header","Button","onClick","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","a","wrap","_context","prev","next","axios","get","headers","sent","status","document","createElement","href","fileURL","download","click","premiumActions","addDownloadedItems","Error","message","t0","stop","apply","arguments","Card","map","item","ReportItem","id"],"sourceRoot":""}